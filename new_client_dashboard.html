<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ููุญุฉ ุชุญูู ุงููุณุชุฎุฏู</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
</head>
<body class="bg-gray-900 text-white p-6 font-sans">
  <header class="flex justify-between items-center mb-8">
    <div>
      <h1 class="text-3xl font-bold text-blue-400">ููุญุฉ ุงูุชุญูู</h1>
      <p class="text-lg mt-2 text-gray-300">ูุฑุญุจูุง ุจูุ ๐ ุฃุญูุฏ</p>
    </div>
    <button onclick="goToAccountPage()" class="bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded-xl text-sm">๐ค ุญุณุงุจู</button>
  </header>

  <div class="flex flex-wrap justify-between gap-4 mb-6">
    <div class="flex gap-4">
      <button onclick="showSection('list')" class="px-4 py-2 rounded-xl bg-blue-700" id="btn-list">๐ ุงููุดุงูู ุงูููุดูุฑุฉ</button>
      <button onclick="showSection('add')" class="px-4 py-2 rounded-xl bg-gray-800 hover:bg-gray-700" id="btn-add">โ ุฃุถู ูุดููุฉ</button>
    </div>
    <div class="flex gap-2">
      <select onchange="filterProblems()" id="filter-category" class="bg-gray-800 text-white rounded-xl px-3 py-2">
        <option>ุงููู</option>
        <option>ุชูููุฉ</option>
        <option>ูุงููููุฉ</option>
        <option>ุฒุฑุงุนูุฉ</option>
        <option>ุงุฌุชูุงุนูุฉ</option>
        <option>ุตุญูุฉ</option>
      </select>
      <select onchange="filterProblems()" id="filter-location" class="bg-gray-800 text-white rounded-xl px-3 py-2">
        <option>ุงููู</option>
        <option>ุนูุงู</option>
        <option>ุงูุฒุฑูุงุก</option>
        <option>ุฅุฑุจุฏ</option>
        <option>ูุงุฏุจุง</option>
        <option>ุงููุฑู</option>
      </select>
      <select onchange="filterProblems()" id="filter-type" class="bg-gray-800 text-white rounded-xl px-3 py-2">
        <option>ุงููู</option>
        <option>ูุฌุงููุฉ</option>
        <option>ูุฏููุนุฉ</option>
      </select>
    </div>
  </div>

  <section id="section-list">
    <h2 class="text-2xl font-semibold mb-6 text-blue-300">ูุดุงูู ููุดูุฑุฉ</h2>
    <div id="problems-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </section>

  <section id="section-add" class="hidden bg-gray-800 p-6 rounded-xl max-w-xl mx-auto">
    <h2 class="text-xl font-bold mb-4 text-blue-300">๐ ุฃุถู ูุดููุชู</h2>
    <form class="space-y-4">
      <div>
        <label class="block mb-1">ุนููุงู ุงููุดููุฉ</label>
        <input type="text" class="w-full p-2 rounded bg-gray-700 text-white" placeholder="ูุซุงู: ูุดููุฉ ูู ุงูุฅูุชุฑูุช" />
      </div>
      <div>
        <label class="block mb-1">ูุตู ุงููุดููุฉ</label>
        <textarea class="w-full p-2 rounded bg-gray-700 text-white" rows="4" placeholder="ุงุดุฑุญ ุงููุดููุฉ ุจุงูุชูุตูู..."></textarea>
      </div>
      <div>
        <label class="block mb-1">ุชุตููู ุงููุดููุฉ</label>
        <select class="w-full p-2 rounded bg-gray-700 text-white">
          <option>ุชูููุฉ</option>
          <option>ูุงููููุฉ</option>
          <option>ุฒุฑุงุนูุฉ</option>
          <option>ุงุฌุชูุงุนูุฉ</option>
          <option>ุตุญูุฉ</option>
        </select>
      </div>
      <div>
        <label class="block mb-1">ููุน ุงููุดููุฉ</label>
        <select class="w-full p-2 rounded bg-gray-700 text-white">
          <option>ูุฌุงููุฉ</option>
          <option>ูุฏููุนุฉ</option>
        </select>
      </div>
      <div>
        <label class="block mb-1">ุงููุจูุบ ุงูููุชุฑุญ (ุงุฎุชูุงุฑู)</label>
        <input type="number" class="w-full p-2 rounded bg-gray-700 text-white" placeholder="ูุซุงู: 10 ุฏููุงุฑ" />
      </div>
      <div>
        <label class="block mb-1">ุงููููุน ุงูุฌุบุฑุงูู</label>
        <select class="w-full p-2 rounded bg-gray-700 text-white">
          <option>ุนูุงู</option>
          <option>ุงูุฒุฑูุงุก</option>
          <option>ุฅุฑุจุฏ</option>
          <option>ูุงุฏุจุง</option>
          <option>ุงููุฑู</option>
        </select>
      </div>
      <button type="button" class="bg-blue-600 hover:bg-blue-700 w-full py-2 rounded text-white">ูุดุฑ ุงููุดููุฉ</button>
    </form>
  </section>

  <!-- ูููุฐุฌ ุนุฑุถ ุงูุญู -->
  <div id="offer-form" class="hidden bg-gray-800 p-6 rounded-xl max-w-xl mx-auto mt-6">
    <h2 class="text-xl font-bold mb-4 text-blue-300">๐จ ูุฏูู ุนุฑุถู ูุญู ุงููุดููุฉ</h2>
    <form class="space-y-4" onsubmit="handleOfferSubmit(event)">
      <div>
        <label class="block mb-1">ุดุฑุญ ููุฑุชู ูุญู ุงููุดููุฉ</label>
        <textarea id="offer-description" class="w-full p-2 rounded bg-gray-700 text-white" rows="4" placeholder="ุงุดุฑุญ ููุฑุชู ุจูุถูุญ..." required></textarea>
      </div>

      <div>
        <label class="block mb-1">ูู ุนุฑุถู ูุฌุงููุ</label>
        <input type="checkbox" id="freeCheckbox" onchange="togglePaid()" checked />
        <span class="ml-2">ูุนูุ ูุฐุง ุงูุนุฑุถ ูุฌุงูู</span>
      </div>

      <div id="priceSection" style="display: none;">
        <label class="block mb-1">ุณุนุฑ ุงูุนุฑุถ</label>
        <input type="number" id="price" class="w-full p-2 rounded bg-gray-700 text-white" placeholder="ูุซุงู: 8" />
      </div>

      <div>
        <label class="block mb-1">ุงููุฏุฉ ุงูุฒูููุฉ ุงููุชููุนุฉ (ุงุฎุชูุงุฑู)</label>
        <input type="text" id="duration" class="w-full p-2 rounded bg-gray-700 text-white" placeholder="ูุซุงู: ููููู" />
      </div>

      <button type="submit" class="bg-purple-700 text-white px-6 py-2 rounded hover:bg-purple-800">
        ุฅุฑุณุงู ุงูุนุฑุถ
      </button>
    </form>
  </div>

  <script>
    const problems = [
      {
        title: "ูุดููุฉ ูู ุดุจูุฉ ุงูุฅูุชุฑูุช ุงูููุฒููุฉ",
        category: "ุชูููุฉ",
        type: "ูุฏููุนุฉ",
        price: "10 ุฏููุงุฑ",
        location: "ุนูุงู",
        status: "ุจุงูุชุธุงุฑ ุนุฑูุถ"
      },
      {
        title: "ูู ุนูุฏ ุงูุฅูุฌุงุฑ ููุฒููู ุจุฏูุน ุงูุตูุงูุฉุ",
        category: "ูุงููููุฉ",
        type: "ูุฌุงููุฉ",
        price: "-",
        location: "ุงูุฒุฑูุงุก",
        status: "ุชู ุงูุญู"
      },
      {
        title: "ุทุฑููุฉ ุฒุฑุงุนุฉ ุงููุนูุงุน ูู ุญูุถ ุตุบูุฑ",
        category: "ุฒุฑุงุนูุฉ",
        type: "ูุฌุงููุฉ",
        price: "-",
        location: "ุฅุฑุจุฏ",
        status: "ุจุงูุชุธุงุฑ ุนุฑูุถ"
      }
    ];

    function renderProblems(list) {
      const container = document.getElementById("problems-container");
      container.innerHTML = "";
      list.forEach(p => {
        container.innerHTML += `
          <div class="bg-gray-800 p-4 rounded-xl shadow">
            <div class="text-sm text-blue-400 mb-1">${p.category} | ๐ ${p.location}</div>
            <h3 class="text-lg font-bold mb-2">${p.title}</h3>
            <div class="text-sm text-gray-300">ุงูููุน: ${p.type}</div>
            ${p.type === "ูุฏููุนุฉ" ? `<div class="text-sm text-green-400">ุงููุจูุบ ุงูููุชุฑุญ: ${p.price}</div>` : ""}
            <div class="text-sm text-gray-400 mt-2">๐ ุงูุญุงูุฉ: ${p.status}</div>
            <button onclick="showOfferForm('${p.title}')" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded mt-2 w-full">๐จ ุชูุฏูู ุนุฑุถ ูุญู ุงููุดููุฉ</button>
          </div>
        `;
      });
    }

    function showOfferForm(problemTitle) {
      const offerForm = document.getElementById("offer-form");
      offerForm.classList.remove("hidden");
      document.getElementById("section-list").classList.add("hidden");
      document.getElementById("section-add").classList.add("hidden");

      console.log("ุชูุฏูู ุนุฑุถ ูุญู ุงููุดููุฉ:", problemTitle);
    }

    function togglePaid() {
      const isFree = document.getElementById('freeCheckbox').checked;
      document.getElementById('priceSection').style.display = isFree ? 'none' : 'block';
    }

    function handleOfferSubmit(e) {
      e.preventDefault();
      const description = document.getElementById('offer-description').value;
      const isPaid = !document.getElementById('freeCheckbox').checked;
      const price = isPaid ? document.getElementById('price').value : 0;
      const duration = document.getElementById('duration').value;

      const offer = {
        description,
        isPaid,
        price,
        duration
      };

      console.log("ุนุฑุถ ููุฏู:", offer);
      alert("ุชู ุฅุฑุณุงู ุงูุนุฑุถ ุจูุฌุงุญ!");
    }

    function filterProblems() {
      const category = document.getElementById("filter-category").value;
      const location = document.getElementById("filter-location").value;
      const type = document.getElementById("filter-type").value;

      const filtered = problems.filter(p =>
        (category === "ุงููู" || p.category === category) &&
        (location === "ุงููู" || p.location === location) &&
        (type === "ุงููู" || p.type === type)
      );

      renderProblems(filtered);
    }

    function showSection(section) {
      document.getElementById("section-list").classList.add("hidden");
      document.getElementById("section-add").classList.add("hidden");
      document.getElementById("btn-list").classList.remove("bg-blue-700");
      document.getElementById("btn-add").classList.remove("bg-blue-700");

      if (section === "list") {
        document.getElementById("section-list").classList.remove("hidden");
        document.getElementById("btn-list").classList.add("bg-blue-700");
      } else {
        document.getElementById("section-add").classList.remove("hidden");
        document.getElementById("btn-add").classList.add("bg-blue-700");
      }
    }

    // ุนุฑุถ ุงููุดุงูู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
    renderProblems(problems);
  </script>
</body>
</html>
